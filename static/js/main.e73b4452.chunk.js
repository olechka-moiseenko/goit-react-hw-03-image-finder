(this["webpackJsonpgoit-react-hw-03-image-finder-1"]=this["webpackJsonpgoit-react-hw-03-image-finder-1"]||[]).push([[0],{12:function(e,t,a){e.exports={overlay:"Modal_overlay__2KgZp",modal:"Modal_modal__CkWOK",closebtn:"Modal_closebtn__3wXcc"}},14:function(e,t,a){e.exports={ImageGalleryItem:"ImageGalleryItem_ImageGalleryItem__2M_Gc",ImageGalleryItemimage:"ImageGalleryItem_ImageGalleryItemimage__tVAbr"}},15:function(e,t,a){e.exports={loader:"App_loader__jnM33",p:"App_p__1IrJ0"}},25:function(e,t,a){e.exports={container:"Container_container__2lpBh"}},26:function(e,t,a){e.exports={ImageGallery:"ImageGallery_ImageGallery__2UJiZ",ImageGalleryItem:"ImageGallery_ImageGalleryItem__1WKcU",ImageGalleryItemimage:"ImageGallery_ImageGalleryItemimage__2U8Qz"}},27:function(e,t,a){e.exports={button:"Button_button__1unXm"}},35:function(e,t,a){},76:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(10),o=a.n(c),s=(a(35),a(8)),i=a.n(s),l=a(16),u=a(11),m=a(4),d=a(5),h=a(7),p=a(6),g=a(25),b=a.n(g),j=a(2),f=a.n(j),y=a(1),O=function(e){var t=e.children;return Object(y.jsx)("div",{className:b.a.container,children:t})};O.prototype={children:f.a.object.isRequired};var _=O,v=a(9),S=a.n(v),I=function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(m.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={inputValue:""},e.handleChange=function(t){e.setState({inputValue:t.target.value})},e.handleSubmit=function(t){t.preventDefault(),e.props.onSubmit(e.state.inputValue),e.resetinputValue()},e.resetinputValue=function(){e.setState({inputValue:""})},e}return Object(d.a)(a,[{key:"render",value:function(){return Object(y.jsx)("header",{className:S.a.Searchbar,children:Object(y.jsxs)("form",{className:S.a.SearchForm,onSubmit:this.handleSubmit,children:[Object(y.jsx)("button",{type:"submit",className:S.a.SearchFormButton,children:Object(y.jsx)("span",{className:S.a.SearchFormButtonLabel,children:"Search"})}),Object(y.jsx)("input",{className:S.a.SearchFormInput,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",value:this.state.inputValue,onChange:this.handleChange})]})})}}]),a}(n.Component),x=a(26),G=a.n(x),w=a(14),N=a.n(w),k=function(e){var t=e.imgItem,a=e.onSelect;return Object(y.jsx)("li",{className:N.a.ImageGalleryItem,onClick:function(){return a(t)},children:Object(y.jsx)("img",{src:t.webformatURL,alt:t.tags,className:N.a.ImageGalleryItemimage})},t.id)};k.prototype={imgItem:f.a.objectOf({largeImageURL:f.a.string,webformatURL:f.a.string,tags:f.a.string,id:f.a.string.isRequired})};var B=k;function C(e){var t=e.imgArr,a=e.onSelect;return Object(y.jsx)("ul",{className:G.a.ImageGallery,children:t.map((function(e){return Object(y.jsx)(B,{imgItem:e,onSelect:function(){return a(e)}},e.id)}))})}C.prototype={imgArr:f.a.arrayOf(f.a.object).isRequired};var F=C,L=a(30),M=a(12),A=a.n(M),R=document.getElementById("modal-root"),U=function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(m.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).handleKeyEsc=function(t){"Escape"===t.code&&e.props.onClose()},e.handleOverlayClick=function(t){t.currentTarget===t.target&&e.props.onClose()},e.closeModal=function(){e.props.onClose()},e}return Object(d.a)(a,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.handleKeyEsc)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.handleKeyEsc)}},{key:"render",value:function(){return Object(c.createPortal)(Object(y.jsxs)("div",{className:A.a.overlay,onClick:this.handleOverlayClick,children:[Object(y.jsx)("div",{className:A.a.modal,children:this.props.children}),Object(y.jsx)("button",{type:"button",className:A.a.closebtn,onClick:this.closeModal,children:Object(y.jsx)(L.a,{size:"2em"})})]}),R)}}]),a}(n.Component),V=a(27),E=a.n(V),H=function(e){var t=e.onLoadMore;return Object(y.jsx)("button",{onClick:function(){return t()},type:"button",className:E.a.button,children:"Load more"})};H.prototype={onLoadMore:f.a.func.isRequired};var K=H,q=a(28),J=a.n(q),z=function(){var e=Object(u.a)(i.a.mark((function e(t,a){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J.a.get("https://pixabay.com/api/?q=".concat(t,"&page=").concat(a,"&key=").concat("21833182-c50b5ade5b44b638c37fcd74e","&image_type=photo&orientation=horizontal&per_page=12"));case 2:return n=e.sent,e.abrupt("return",n.data.hits);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),D=a(15),P=a.n(D),W=a(29),Q=a.n(W),T=function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(m.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={imgGallery:[],imgName:"",pageNum:1,selectedObg:null,status:"idle",error:null},e.searchBarInputValueHandler=function(t){""!==t.trim()&&e.setState({imgName:t,status:"pending"}),e.state.imgName!==t&&e.setState({imgGallery:[],pageNum:1})},e.loadMoreBtnHandler=function(){e.setState((function(e){return{pageNum:e.pageNum+=1,status:"pending"}}))},e.handleSelectObg=function(t){e.setState({selectedObg:t,showLoader:!0})},e.toggleMdl=function(t){e.setState((function(e){e.selectedObg;return{selectedObg:null}}))},e}return Object(d.a)(a,[{key:"componentDidUpdate",value:function(){var e=Object(u.a)(i.a.mark((function e(t,a){var n=this;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.state.imgGallery.length&&"resolved"===this.state.status&&(alert("Sorry, we did not find such pictures ".concat(this.state.imgName)),this.setState({status:"idle"})),"pending"!==this.state.status){e.next=11;break}return e.prev=2,e.next=5,z(this.state.imgName,this.state.pageNum).then((function(e){return n.setState((function(t){return{imgGallery:[].concat(Object(l.a)(t.imgGallery),Object(l.a)(e)),status:"resolved"}}))}));case 5:e.next=11;break;case 7:e.prev=7,e.t0=e.catch(2),alert("Pixabay is dead"),this.setState({error:"error",status:"rejected"});case 11:window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"});case 12:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t,a){return e.apply(this,arguments)}}()},{key:"render",value:function(){return Object(y.jsxs)(_,{children:[Object(y.jsx)(I,{onSubmit:this.searchBarInputValueHandler}),Object(y.jsx)(F,{imgArr:this.state.imgGallery,onSelect:this.handleSelectObg}),"resolved"===this.state.status&&Object(y.jsx)(K,{onLoadMore:this.loadMoreBtnHandler}),this.state.selectedObg&&Object(y.jsx)(U,{onClose:this.toggleMdl,children:Object(y.jsx)("img",{src:this.state.selectedObg.largeImageURL,alt:this.state.selectedObg.largeImageURL})}),"pending"===this.state.status&&Object(y.jsxs)("div",{className:P.a.loader,children:[Object(y.jsx)(Q.a,{type:"Puff",color:"#00BFFF",height:200,width:200}),Object(y.jsx)("p",{className:P.a.p,children:"Loading..."})]})]})}}]),a}(n.Component);o.a.render(Object(y.jsx)(r.a.StrictMode,{children:Object(y.jsx)(T,{})}),document.getElementById("root"))},9:function(e,t,a){e.exports={Searchbar:"SearchBar_Searchbar__2yOOd",SearchForm:"SearchBar_SearchForm__k7ARn",SearchFormButton:"SearchBar_SearchFormButton__1Gnfh",SearchFormButtonLabel:"SearchBar_SearchFormButtonLabel__3FHjn",SearchFormInput:"SearchBar_SearchFormInput__1AQad"}}},[[76,1,2]]]);
//# sourceMappingURL=main.e73b4452.chunk.js.map