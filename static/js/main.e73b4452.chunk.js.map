{"version":3,"sources":["components/Modal/Modal.module.css","components/ImageGalleryItem/ImageGalleryItem.module.css","App.module.css","components/Container/Container.module.css","components/ImageGallery/ImageGallery.module.css","components/Button/Button.module.css","components/Container/Container.jsx","components/SearchBar/SearchBar.jsx","components/ImageGalleryItem/ImageGalleryItem.jsx","components/ImageGallery/ImageGallery.jsx","components/Modal/Modal.jsx","components/Button/Button.jsx","services/gallery-api.js","App.js","index.js","components/SearchBar/SearchBar.module.css"],"names":["module","exports","Container","children","className","s","container","prototype","PropTypes","object","isRequired","SearchBar","state","inputValue","handleChange","event","setState","target","value","handleSubmit","preventDefault","props","onSubmit","resetinputValue","Searchbar","SearchForm","this","type","SearchFormButton","SearchFormButtonLabel","SearchFormInput","autoComplete","autoFocus","placeholder","onChange","Component","ImageGalleryItem","imgItem","onSelect","onClick","src","webformatURL","alt","tags","ImageGalleryItemimage","id","objectOf","largeImageURL","string","ImageGallery","imgArr","map","arrayOf","modalRoot","document","getElementById","Modal","handleKeyEsc","evt","code","onClose","handleOverlayClick","currentTarget","closeModal","window","addEventListener","removeEventListener","createPortal","overlay","modal","closebtn","size","Button","onLoadMore","button","func","fetchImages","imgName","pageNum","a","axios","get","response","data","hits","App","imgGallery","selectedObg","status","error","searchBarInputValueHandler","InputValue","trim","loadMoreBtnHandler","prevState","handleSelectObg","obg","showLoader","toggleMdl","prevProps","length","alert","then","NewImgGallery","scrollTo","top","documentElement","scrollHeight","behavior","loader","color","height","width","p","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.e73b4452.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Modal_overlay__2KgZp\",\"modal\":\"Modal_modal__CkWOK\",\"closebtn\":\"Modal_closebtn__3wXcc\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__2M_Gc\",\"ImageGalleryItemimage\":\"ImageGalleryItem_ImageGalleryItemimage__tVAbr\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loader\":\"App_loader__jnM33\",\"p\":\"App_p__1IrJ0\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Container_container__2lpBh\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__2UJiZ\",\"ImageGalleryItem\":\"ImageGallery_ImageGalleryItem__1WKcU\",\"ImageGalleryItemimage\":\"ImageGallery_ImageGalleryItemimage__2U8Qz\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"Button_button__1unXm\"};","import React from \"react\";\nimport s from \"./Container.module.css\";\nimport PropTypes from \"prop-types\";\n\nconst Container = ({ children }) => (\n  <div className={s.container}>{children}</div>\n);\n\nContainer.prototype = {\n  children: PropTypes.object.isRequired,\n};\n\nexport default Container;\n","import React, { Component } from \"react\";\n// import toast from \"react-hot-toast\";\nimport s from \"./SearchBar.module.css\";\n\nclass SearchBar extends Component {\n  state = {\n    inputValue: \"\",\n  };\n\n  handleChange = (event) => {\n    this.setState({ inputValue: event.target.value });\n  };\n\n  handleSubmit = (event) => {\n    event.preventDefault();\n\n    this.props.onSubmit(this.state.inputValue);\n    this.resetinputValue();\n  };\n\n  resetinputValue = () => {\n    this.setState({ inputValue: \"\" });\n  };\n\n  render() {\n    return (\n      <header className={s.Searchbar}>\n        <form className={s.SearchForm} onSubmit={this.handleSubmit}>\n          <button type=\"submit\" className={s.SearchFormButton}>\n            <span className={s.SearchFormButtonLabel}>Search</span>\n          </button>\n\n          <input\n            className={s.SearchFormInput}\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n            value={this.state.inputValue}\n            onChange={this.handleChange}\n          />\n        </form>\n      </header>\n    );\n  }\n}\n\nexport default SearchBar;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport s from \"./ImageGalleryItem.module.css\";\n\nconst ImageGalleryItem = ({ imgItem, onSelect }) => {\n  return (\n    <li\n      className={s.ImageGalleryItem}\n      key={imgItem.id}\n      onClick={() => onSelect(imgItem)}\n    >\n      <img\n        src={imgItem.webformatURL}\n        alt={imgItem.tags}\n        className={s.ImageGalleryItemimage}\n      />\n    </li>\n  );\n};\n\nImageGalleryItem.prototype = {\n  imgItem: PropTypes.objectOf({\n    largeImageURL: PropTypes.string,\n    webformatURL: PropTypes.string,\n    tags: PropTypes.string,\n    id: PropTypes.string.isRequired,\n  }),\n};\n\nexport default ImageGalleryItem;\n","import React from \"react\";\nimport s from \"./ImageGallery.module.css\";\nimport PropTypes from \"prop-types\";\nimport ImageGalleryItem from \"../ImageGalleryItem/ImageGalleryItem.jsx\";\n\nfunction ImageGallery({ imgArr, onSelect }) {\n  return (\n    <ul className={s.ImageGallery}>\n      {imgArr.map((imgItem) => (\n        <ImageGalleryItem\n          key={imgItem.id}\n          imgItem={imgItem}\n          onSelect={() => onSelect(imgItem)}\n        />\n      ))}\n    </ul>\n  );\n}\nImageGallery.prototype = {\n  imgArr: PropTypes.arrayOf(PropTypes.object).isRequired,\n};\nexport default ImageGallery;\n","import React, { Component } from \"react\";\nimport { createPortal } from \"react-dom\";\nimport { MdClose } from \"react-icons/md\";\nimport s from \"./Modal.module.css\";\n\nconst modalRoot = document.getElementById(\"modal-root\");\n\nclass Modal extends Component {\n  componentDidMount() {\n    window.addEventListener(\"keydown\", this.handleKeyEsc);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener(\"keydown\", this.handleKeyEsc);\n  }\n\n  handleKeyEsc = (evt) => {\n    if (evt.code === \"Escape\") {\n      this.props.onClose();\n    }\n  };\n\n  handleOverlayClick = (evt) => {\n    if (evt.currentTarget === evt.target) {\n      this.props.onClose();\n    }\n  };\n\n  closeModal = () => {\n    this.props.onClose();\n  };\n  render() {\n    return createPortal(\n      <div className={s.overlay} onClick={this.handleOverlayClick}>\n        <div className={s.modal}>{this.props.children}</div>\n        <button type=\"button\" className={s.closebtn} onClick={this.closeModal}>\n          <MdClose size=\"2em\" />\n        </button>\n      </div>,\n      modalRoot\n    );\n  }\n}\nexport default Modal;\n","import React from \"react\";\nimport s from \"./Button.module.css\";\nimport PropTypes from \"prop-types\";\n\nconst Button = ({ onLoadMore }) => {\n  return (\n    <button onClick={() => onLoadMore()} type=\"button\" className={s.button}>\n      Load more\n    </button>\n  );\n};\n\nButton.prototype = {\n  onLoadMore: PropTypes.func.isRequired,\n};\nexport default Button;\n","import axios from \"axios\";\nconst PIXABAY_KEY = \"21833182-c50b5ade5b44b638c37fcd74e\";\n\nexport const fetchImages = async (imgName, pageNum) => {\n  const response = await axios.get(\n    `https://pixabay.com/api/?q=${imgName}&page=${pageNum}&key=${PIXABAY_KEY}&image_type=photo&orientation=horizontal&per_page=12`\n  );\n  return response.data.hits;\n};\n\nexport default fetchImages;\n","import React, { Component } from \"react\";\nimport Container from \"./components/Container/Container.jsx\";\nimport SearchBar from \"./components/SearchBar/SearchBar.jsx\";\nimport ImageGallery from \"./components/ImageGallery/ImageGallery.jsx\";\nimport Modal from \"./components/Modal/Modal.jsx\";\nimport Button from \"./components/Button/Button.jsx\";\nimport { fetchImages } from \"./services/gallery-api\";\nimport s from \"./App.module.css\";\nimport Loader from \"react-loader-spinner\";\n\nclass App extends Component {\n  state = {\n    imgGallery: [],\n    imgName: \"\",\n    pageNum: 1,\n    selectedObg: null,\n    status: \"idle\",\n    error: null,\n  };\n\n  async componentDidUpdate(prevProps, prevState) {\n    if (\n      this.state.imgGallery.length === 0 &&\n      this.state.status === \"resolved\"\n    ) {\n      alert(`Sorry, we did not find such pictures ${this.state.imgName}`);\n\n      this.setState({\n        status: \"idle\",\n      });\n    }\n\n    if (this.state.status === \"pending\") {\n      try {\n        await fetchImages(this.state.imgName, this.state.pageNum).then(\n          (NewImgGallery) =>\n            this.setState((prevState) => ({\n              imgGallery: [...prevState.imgGallery, ...NewImgGallery],\n              status: \"resolved\",\n            }))\n        );\n      } catch {\n        alert(`Pixabay is dead`);\n        this.setState({ error: \"error\", status: \"rejected\" });\n      }\n    }\n\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: \"smooth\",\n    });\n  }\n\n  searchBarInputValueHandler = (InputValue) => {\n    if (InputValue.trim() !== \"\") {\n      this.setState({\n        imgName: InputValue,\n        status: \"pending\",\n      });\n    }\n\n    if (this.state.imgName !== InputValue) {\n      this.setState({\n        imgGallery: [],\n        pageNum: 1,\n      });\n    }\n  };\n\n  loadMoreBtnHandler = () => {\n    this.setState((prevState) => ({\n      pageNum: (prevState.pageNum += 1),\n      status: \"pending\",\n    }));\n  };\n\n  handleSelectObg = (obg) => {\n    this.setState({\n      selectedObg: obg,\n      showLoader: true,\n    });\n  };\n\n  toggleMdl = (evt) => {\n    this.setState(({ selectedObg }) => ({\n      selectedObg: null,\n    }));\n  };\n\n  render() {\n    return (\n      <Container>\n        <SearchBar onSubmit={this.searchBarInputValueHandler} />\n        <ImageGallery\n          imgArr={this.state.imgGallery}\n          onSelect={this.handleSelectObg}\n        ></ImageGallery>\n        {this.state.status === \"resolved\" && (\n          <Button onLoadMore={this.loadMoreBtnHandler} />\n        )}\n\n        {this.state.selectedObg && (\n          <Modal onClose={this.toggleMdl}>\n            <img\n              src={this.state.selectedObg.largeImageURL}\n              alt={this.state.selectedObg.largeImageURL}\n            />\n            {/* <button type=\"button\" onClick={this.toggleMdl}>\n              Close\n            </button> */}\n          </Modal>\n        )}\n\n        {this.state.status === \"pending\" && (\n          <div className={s.loader}>\n            <Loader type=\"Puff\" color=\"#00BFFF\" height={200} width={200} />\n            <p className={s.p}>Loading...</p>\n          </div>\n        )}\n      </Container>\n    );\n  }\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"SearchBar_Searchbar__2yOOd\",\"SearchForm\":\"SearchBar_SearchForm__k7ARn\",\"SearchFormButton\":\"SearchBar_SearchFormButton__1Gnfh\",\"SearchFormButtonLabel\":\"SearchBar_SearchFormButtonLabel__3FHjn\",\"SearchFormInput\":\"SearchBar_SearchFormInput__1AQad\"};"],"sourceRoot":""}